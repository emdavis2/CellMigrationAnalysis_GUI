DRACULA (Durotactic Analysis of Cellular...)
================
## Quick Summary:
The goal of this project is to analyze shape and motion data from movies of cells migrating and find correlations that can explain how the two are related and what unique behaviors are exhibited on different substrates in terms of material and stiffness that the cells are moving on. 

This repository contains the source data and code for analysis. The graphical user interface is a tool to easily run analyses on shape and motion metrics of cells to find correlations. Users are able to input treatments and generate figures desired. 

## Navigation
- run script gui_analysis_interface.py to generate figures through the gui
- example data for 3 treatments is contained in the /data folder

## Installation guide & use
  #### 1. Executable File Option
  1. No installation required.
  2. Clone git repo (not necessary to preview GUI)
  3. Download executable file from (link in git).
  4. Open executable file to launch GUI.
  
  #### 2. Clone repo
  1. install python 
  2. clone Git repo
  3. open terminal and run pip install -r reqirements.txt
  4. launch gui_analysis_interface.py

  ### 3. Conda env
  1. install anaconda
  2. download the .yml file named dracula.yml
  3. in conda terminal execute: ``` conda env create -f dracula.yml ```

  ## GUI functionality 
  - Figure save location: allows user to select a folder on thier device to save figures in. Subfolders for each figure types will automaticaly be created. If no lcation is selected, a folder named "figures" will automatically be created in the location where the Git repo is located.
  - Treatment names: these names should not have spaces. Treatment names are necessary if the treatment will be used, and should correspond to the treatment selected through each data_location box. 
  - Data location boxes: use this to navigate to the location of data on device. Note: these data should be located within a folder(which user will select). Within the folder should be pickle files of data.
  - Choose funtion category: based on analysis necessary, select boxes for ACF Functions, CellShapeOverTrack, and Histogram & Boxplot. Multiple may be selected at once.
  - Choose treatment to be included: Choose treatment(s) to create figures for. Note: ACF figures will not plot multiple treaments on a single figure. However, some histograms and boxplots will be created with all treatments selected on them(for inter-region comparisons).
  - Enter minimum tack length: allows users to enter a cutoff for minimum length of track to be included.

## Code functionality
- CellShapeOverTrack.py, GenerateDataHistogramBoxplot.py, and GenerateDataACF.py contain code tied to GUI for generation of figures/analyses
- 

## Python library dependencies
pandas==1.4.4\
numpy\
matplotlib\
scipy 
tiffile\
seaborn\
tkinter\
subprocess


delete???????? from here down
## How to Run:
Clone this repository and navigate to the folder of this repository on your computer (where the Docker file is located) and build the docker container by running:

```
docker build -t python_docker .
```

Now, run this container with the following: 

```
docker run -v $(pwd):/home/ -it python_docker bash
```
Note: you must be in the directory of this repo on your computer for this to work! `$(pwd)` should ultimately result in the path to this repo on your computer, as we want to port this repo on your local computer to /home/ in the virtual terminal. If running on a Windows machine, it may be necessary to actually type out the path to this repo on your computer instead of `$(pwd)`.

Now your terminal should be interactive with the docker container we have just built. We can use the Makefile to make the figures and fit the model to our data. To generate the autocorrelation figures for the cells migrating on glass, use:

```
make sentinels/ACF_figures_glass.txt
```

To do the same for soft gel, run:

```
make sentinels/ACF_figures_soft_gel.txt
```

And similarly for stiff gel, run:

```
make sentinels/ACF_figures_stiff_gel.txt
```

To generate figures of histograms and box plots and various other features of the data for all the regions, simply run:

```
make sentinels/cellshape_histogram.txt
```

These targets are sentinels since many plots are actually produced, however the text files do list the names of all the figures generated by these targets. The figures are saved in a folder called `figures` and the sentinels are located in a folder called `sentinels`.
